{"version":3,"sources":["../../../.tmp-es/components/data-table/row-actions.jsx"],"names":["React","useContext","PropTypes","classNames","isFunction","Dropdown","EventUtil","InteractiveElement","CellContext","TableContext","useContextHelper","DATA_TABLE_ROW_ACTIONS","InteractiveDropdown","propTypes","assistiveText","object","className","string","id","item","noHint","bool","onAction","func","options","array","dropdown","node","DataTableRowActions","icon","fixedLayout","tableContext","cellContext","tabIndex","hasFocus","handleFocus","handleKeyDown","handleClick","e","trap","handleSelect","selection","props","onSelect","defaultDropdownProps","align","buttonClassName","buttonVariant","iconCategory","iconName","iconSize","iconVariant","hint","dropdownProps","width","ref","focus","displayName"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n\n// ### React\nimport React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\n// ### isFunction\nimport isFunction from 'lodash.isfunction';\n\n// ## Children\nimport Dropdown from '../menu-dropdown';\n\n// ### Event Helpers\nimport EventUtil from '../../utilities/event';\n\nimport InteractiveElement from './interactive-element';\nimport CellContext from './private/cell-context';\nimport TableContext from './private/table-context';\nimport useContextHelper from './private/context-helper';\n\n// ## Constants\nimport { DATA_TABLE_ROW_ACTIONS } from '../../utilities/constants';\n\nconst InteractiveDropdown = InteractiveElement(Dropdown);\n\nconst propTypes = {\n\t/**\n\t * Description of the menu for screenreaders.\n\t */\n\tassistiveText: PropTypes.object,\n\t/**\n\t * Class names to be added to the actions menu.\n\t */\n\tclassName: PropTypes.string,\n\t/**\n\t * HTML ID to be added to the actions menu.\n\t */\n\tid: PropTypes.string,\n\t/**\n\t * `DataTable` row item\n\t */\n\titem: PropTypes.object,\n\t/**\n\t * Disable hint styling which changes the color of the dropdown svg on hover over.\n\t */\n\tnoHint: PropTypes.bool,\n\t/**\n\t * Triggered when an item is selected.\n\t */\n\tonAction: PropTypes.func,\n\t/**\n\t * `Dropdown` options. See `Dropdown`.\n\t */\n\toptions: PropTypes.array,\n\t/**\n\t * A [Dropdown](http://react.lightningdesignsystem.com/components/dropdown-menus/) component. The props from this drop will be merged and override any default props.\n\t * **Note:** onAction will not be overridden, both `DropDown`'s onSelect(dropDownActionOption) and onAction(rowItem, dropdownActionOption) will be called with appropriate parameters\n\t */\n\tdropdown: PropTypes.node,\n};\n\n/**\n * RowActions provide a mechanism for defining a menu to display alongside each row in the DataTable.\n */\nconst DataTableRowActions = ({\n\tassistiveText = { icon: 'Actions' },\n\tnoHint = false,\n\toptions = [],\n\tclassName,\n\tid,\n\titem,\n\tonAction,\n\tdropdown,\n\tfixedLayout,\n}) => {\n\tconst tableContext = useContext(TableContext);\n\tconst cellContext = useContext(CellContext);\n\tconst { tabIndex, hasFocus, handleFocus, handleKeyDown } = useContextHelper(\n\t\ttableContext,\n\t\tcellContext,\n\t\tfixedLayout\n\t);\n\n\tconst handleClick = (e) => {\n\t\tEventUtil.trap(e);\n\t};\n\n\tconst handleSelect = (selection) => {\n\t\tif (isFunction(onAction)) {\n\t\t\tonAction(item, selection);\n\t\t}\n\t\tif (dropdown && isFunction(dropdown.props.onSelect)) {\n\t\t\tdropdown.props.onSelect(selection);\n\t\t}\n\t};\n\n\t// i18n\n\tconst defaultDropdownProps = {\n\t\talign: 'right',\n\t\tbuttonClassName: 'slds-button_icon-x-small',\n\t\tbuttonVariant: 'icon',\n\t\ticonCategory: 'utility',\n\t\ticonName: 'down',\n\t\ticonSize: 'small',\n\t\ticonVariant: 'border-filled',\n\t\tassistiveText,\n\t\tclassName,\n\t\toptions,\n\t\thint: !noHint,\n\t\tid,\n\t};\n\n\tlet dropdownProps = dropdown ? dropdown.props : {};\n\tdropdownProps = {\n\t\t...defaultDropdownProps,\n\t\t...dropdownProps,\n\t\tonSelect: handleSelect,\n\t};\n\n\treturn (\n\t\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\t\t<td\n\t\t\tclassName={classNames({ 'slds-has-focus': hasFocus })}\n\t\t\tdata-label=\"Actions\"\n\t\t\tonClick={handleClick}\n\t\t\tstyle={{ width: '3.25rem' }}\n\t\t\tonFocus={handleFocus}\n\t\t\tonKeyDown={handleKeyDown}\n\t\t\tref={(ref) => {\n\t\t\t\tif (ref && hasFocus) {\n\t\t\t\t\tref.focus();\n\t\t\t\t}\n\t\t\t}}\n\t\t\trole={fixedLayout ? 'gridcell' : null}\n\t\t\ttabIndex={tabIndex}\n\t\t>\n\t\t\t{/* eslint-enable jsx-a11y/no-static-element-interactions */}\n\t\t\t<InteractiveDropdown {...dropdownProps} />\n\t\t</td>\n\t);\n};\n\nDataTableRowActions.propTypes = propTypes;\nDataTableRowActions.displayName = DATA_TABLE_ROW_ACTIONS;\nexport default DataTableRowActions;\n"],"file":"row-actions.js"}